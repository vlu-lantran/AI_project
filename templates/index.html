<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.I Video Detection</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
    <div class="container">
        <h1>Real-time Video Detector</h1>
        
        <!-- Upload Section -->
        <fieldset class="upload-section">
            <legend>Upload Video</legend>
            <form id="uploadForm" enctype="multipart/form-data">
                <label for="videoUpload"></label>
                <input id="videoUpload" type="file" name="video" accept=".mp4,.avi,.mov" onchange="previewVideo(event)">
                <button type="submit" class="btn btn-primary">Upload</button>
            </form>
            <div id="errorMessage" class="error-message"></div>
            <div id="successMessage" class="success-message"></div>
        </fieldset>

        <!-- Control Panel -->
        <fieldset class="control-panel">
            <legend>Controls</legend>
            <button id="startProcessing" class="btn btn-primary" disabled>Start Detection</button>
            <button id="stopProcessing" class="btn btn-danger" disabled>Stop Detection</button>
            <button id="resumeProcessing" class="btn btn-success" disabled>Resume Detection</button>
            <button id="deleteVideo" class="btn btn-warning" disabled>Delete Video</button>
            <div id="processingStatus" class="status idle">
                <strong>Status:</strong> Waiting for video
            </div>
        </fieldset>

        <!-- Video Frame Control -->
        <fieldset class="frame-control-container">
            <legend>Video Frame Control</legend>
            <label for="frameSlider">Frame:</label>
            <input type="range" id="frameSlider" min="0" max="100" value="0">
            <span id="currentFrame">0</span> / <span id="totalFrames">0</span>
        </fieldset>

        <!-- Video Stream -->
        <div class="video-container">
            <div class="video-box">
                <h3>Video Stream</h3>
                <img id="videoStream" src="" alt="Video stream">
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-container" style="display: none;">
            <h3>Detection Results</h3>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Object</th>
                        <th>Appear Time</th>
                        <th>Disappear Time</th>
                        <th>Status</th>
                        <th>Appearance</th>
                    </tr>
                </thead>
                <tbody id="resultsTableBody"></tbody>
            </table>
        </div>

        <!-- Download Section -->
        <fieldset class="download-section">
            <legend>Download</legend>
            <button id="downloadVideo" class="btn btn-success" disabled>
                Download Processed Video
            </button>
        </fieldset>
    </div>

    <script src="static/js/script.js"></script>
</body>
</html>
